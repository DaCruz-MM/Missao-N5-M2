{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pc\\\\Projetos\\\\Miss\\xE3o Pratica Nivel 5\\\\clientes\\\\Missao-N3-M2-React\\\\src\\\\LivroLista.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport ControleLivros from './controle/ControleLivros';\nimport ControleEditoras from './controle/ControleEditora';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst controleLivro = new ControleLivros();\nconst controleEditora = new ControleEditoras();\nconst LinhaLivro = props => {\n  const {\n    livro,\n    excluir\n  } = props;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [livro.titulo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: excluir,\n          children: \"excluir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: livro.resumo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: controleEditora.getNomeEditora(livro.codEditora)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: livro.autores.map((autor, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: autor\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_c = LinhaLivro;\nexport default function LivroLista() {\n  _s();\n  const [livros, setLivros] = useState([]);\n  const [carregado, setCarregado] = useState(false);\n  const getLivros = async () => {\n    controleLivro.obterLivros().then(res => setLivros(res));\n    console.log(livros);\n  };\n  useEffect(() => {\n    getLivros();\n    setCarregado(true);\n  }, [carregado]);\n  const excluir = codigo => {\n    controleLivro.excluir(codigo).then(setCarregado(false));\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"Catalogo de Livros\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-dark table-hover vw-100 vh-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Titulo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Resumo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Editora\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Autores\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: livros && livros.map((livro, index) => /*#__PURE__*/_jsxDEV(LinhaLivro, {\n            livro: livro,\n            excluir: () => excluir(livro.codigo)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(LivroLista, \"PpFW6QRzmKOQAmzOWNhhxwCrA6c=\");\n_c2 = LivroLista;\n;\nvar _c, _c2;\n$RefreshReg$(_c, \"LinhaLivro\");\n$RefreshReg$(_c2, \"LivroLista\");","map":{"version":3,"names":["useState","useEffect","ControleLivros","ControleEditoras","controleLivro","controleEditora","LinhaLivro","props","livro","excluir","titulo","resumo","getNomeEditora","codEditora","autores","map","autor","index","LivroLista","livros","setLivros","carregado","setCarregado","getLivros","obterLivros","then","res","console","log","codigo"],"sources":["C:/Users/Pc/Projetos/MissÃ£o Pratica Nivel 5/clientes/Missao-N3-M2-React/src/LivroLista.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport ControleLivros from './controle/ControleLivros';\r\nimport ControleEditoras from './controle/ControleEditora';\r\n\r\nconst controleLivro = new ControleLivros();\r\nconst controleEditora = new ControleEditoras();\r\n\r\nconst LinhaLivro = props => {\r\n    const { livro, excluir } = props;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td>\r\n                    {livro.titulo}\r\n                    <br></br>\r\n                    <button className=\"btn btn-danger\" onClick={excluir}>excluir</button>\r\n                </td>\r\n                <td>{livro.resumo}</td>\r\n                <td>{controleEditora.getNomeEditora(livro.codEditora)}</td>\r\n                <td><ul>\r\n                    {livro.autores.map((autor, index) => (\r\n                        <li key={index}>{autor}</li>\r\n                    ))}\r\n                </ul></td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default function LivroLista() {\r\n    const [livros, setLivros] = useState([]);\r\n    const [carregado, setCarregado] = useState(false);\r\n    \r\n    const getLivros = async () => {\r\n         controleLivro.obterLivros()\r\n            .then(res => setLivros(res));\r\n        console.log(livros);\r\n    };\r\n\r\n    useEffect(() => {\r\n        getLivros()\r\n        setCarregado(true);\r\n    }, [carregado]);\r\n\r\n    const excluir = (codigo) => {\r\n        controleLivro.excluir(codigo)\r\n            .then(setCarregado(false));\r\n    };\r\n    \r\n    return(\r\n        <main>\r\n            <h1 className=\"text-center\">Catalogo de Livros</h1>\r\n            <div className=\"container\">\r\n                <table className=\"table table-dark table-hover vw-100 vh-100\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Titulo</td>\r\n                            <td>Resumo</td>\r\n                            <td>Editora</td>\r\n                            <td>Autores</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { livros && livros.map( (livro,index) => (\r\n                            <LinhaLivro livro={livro} excluir={() => excluir(livro.codigo)} key={index}/>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </main>\r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}