{"ast":null,"code":"const baseURL = \"http://localhost:3030/livros\";\nclass ControleLivros {\n  async obterLivros() {\n    fetch(baseURL).then(res => res.json()).then(livros => {\n      return livros.map(livro_ => {\n        let livro = {\n          codigo: livro_._id,\n          codEditora: livro_.codEditora,\n          titulo: livro_.titulo,\n          resumo: livro_.resumo,\n          autores: livro_.autores\n        };\n        return livro;\n      });\n    });\n  }\n  async incluir(livro) {\n    let livro_m = {\n      _id: livro.codigo,\n      codEditora: livro.codEditora,\n      titulo: livro.titulo,\n      resumo: livro.resumo,\n      autores: livro.autores\n    };\n    fetch(baseURL, {\n      method: \"POST\",\n      body: JSON.stringify(livro_m)\n    }).then(res => res.ok);\n    console.log(livro_m);\n  }\n  async excluir(codigo) {\n    fetch(baseURL + codigo, {\n      method: 'DELETE'\n    }).then(res => res.ok);\n  }\n}\nexport default ControleLivros;","map":{"version":3,"names":["baseURL","ControleLivros","obterLivros","fetch","then","res","json","livros","map","livro_","livro","codigo","_id","codEditora","titulo","resumo","autores","incluir","livro_m","method","body","JSON","stringify","ok","console","log","excluir"],"sources":["C:/Users/Pc/Projetos/MissÃ£o Pratica Nivel 5/clientes/Missao-N3-M2-React/src/controle/ControleLivros.ts"],"sourcesContent":["import { Livro } from '../modelo/Livro';\r\n\r\nconst baseURL = \"http://localhost:3030/livros\";\r\n\r\ninterface LivroMongo {\r\n    _id: string | null;\r\n    codEditora: number;\r\n    titulo: string;\r\n    resumo: string;\r\n    autores: string[];\r\n}\r\n\r\nclass ControleLivros {\r\n    async obterLivros(){\r\n        fetch(baseURL)\r\n        .then((res) => res.json())\r\n        .then((livros) => {\r\n            return livros.map((livro_:any) => {\r\n                let livro: Livro = {\r\n                    codigo: livro_._id,\r\n                    codEditora: livro_.codEditora,\r\n                    titulo: livro_.titulo,\r\n                    resumo: livro_.resumo,\r\n                    autores: livro_.autores,\r\n                };\r\n                return livro;\r\n            } )\r\n        });\r\n    }\r\n\r\n    async incluir(livro: Livro){\r\n        let livro_m: LivroMongo = {\r\n            _id: livro.codigo,\r\n            codEditora: livro.codEditora,\r\n            titulo: livro.titulo,\r\n            resumo: livro.resumo,\r\n            autores: livro.autores,\r\n        };\r\n        fetch(baseURL, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(livro_m)\r\n        })\r\n        .then( res => res.ok );\r\n        console.log(livro_m)\r\n    }\r\n\r\n    async excluir(codigo:string){\r\n        fetch(baseURL+codigo,{method:'DELETE'})\r\n            .then( res => res.ok );\r\n    }\r\n}\r\n\r\nexport default ControleLivros"],"mappings":"AAEA,MAAMA,OAAO,GAAG,8BAA8B;AAU9C,MAAMC,cAAc,CAAC;EACjB,MAAMC,WAAW,GAAE;IACfC,KAAK,CAACH,OAAO,CAAC,CACbI,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEG,MAAM,IAAK;MACd,OAAOA,MAAM,CAACC,GAAG,CAAEC,MAAU,IAAK;QAC9B,IAAIC,KAAY,GAAG;UACfC,MAAM,EAAEF,MAAM,CAACG,GAAG;UAClBC,UAAU,EAAEJ,MAAM,CAACI,UAAU;UAC7BC,MAAM,EAAEL,MAAM,CAACK,MAAM;UACrBC,MAAM,EAAEN,MAAM,CAACM,MAAM;UACrBC,OAAO,EAAEP,MAAM,CAACO;QACpB,CAAC;QACD,OAAON,KAAK;MAChB,CAAC,CAAE;IACP,CAAC,CAAC;EACN;EAEA,MAAMO,OAAO,CAACP,KAAY,EAAC;IACvB,IAAIQ,OAAmB,GAAG;MACtBN,GAAG,EAAEF,KAAK,CAACC,MAAM;MACjBE,UAAU,EAAEH,KAAK,CAACG,UAAU;MAC5BC,MAAM,EAAEJ,KAAK,CAACI,MAAM;MACpBC,MAAM,EAAEL,KAAK,CAACK,MAAM;MACpBC,OAAO,EAAEN,KAAK,CAACM;IACnB,CAAC;IACDb,KAAK,CAACH,OAAO,EAAE;MACXmB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,OAAO;IAChC,CAAC,CAAC,CACDd,IAAI,CAAEC,GAAG,IAAIA,GAAG,CAACkB,EAAE,CAAE;IACtBC,OAAO,CAACC,GAAG,CAACP,OAAO,CAAC;EACxB;EAEA,MAAMQ,OAAO,CAACf,MAAa,EAAC;IACxBR,KAAK,CAACH,OAAO,GAACW,MAAM,EAAC;MAACQ,MAAM,EAAC;IAAQ,CAAC,CAAC,CAClCf,IAAI,CAAEC,GAAG,IAAIA,GAAG,CAACkB,EAAE,CAAE;EAC9B;AACJ;AAEA,eAAetB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}